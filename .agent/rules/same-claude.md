---
trigger: always_on
---

# same-claude.md - 全プロジェクト共通AI設定

## 基本ルール

### 思考と言語
- **思考**: 英語で行う
- **コメント**: 日本語で記述
- **ドキュメント**: 日本語で作成
- **エラーメッセージ**: 日本語で具体的に

### コーディング規約
```
関数/変数: snake_case
型/クラス: PascalCase
定数: UPPER_SNAKE_CASE
ファイル: snake_case.ext
```

### プロジェクト構造
```
project/
├── src/          # ソースコード
├── tests/        # テストコード
├── docs/         # ドキュメント
├── examples/     # サンプル
└── .tmp/         # 一時ファイル（.gitignore）
```

## 開発フロー

1. **要件確認** → 既存コード確認 → 設計 → 実装 → テスト
2. **既存コードとの整合性を最優先**
3. **破壊的変更は事前に確認**

## Git規約

### コミットメッセージ
```
種別: 簡潔な説明

- 詳細1
- 詳細2

Co-Authored-By: Claude <noreply@anthropic.com>
```

種別: `feat`, `fix`, `docs`, `test`, `refactor`, `style`, `perf`

### ブランチ
- `main` - 安定版
- `feature/*` - 新機能
- `fix/*` - バグ修正

## 品質基準

### コード
- **Lint/Format実行必須**
- **テストカバレッジ維持**
- **ドキュメント更新**

### エラー処理
```cpp
// 具体的なエラーメッセージ
if (error) {
    return Error("ファイル '{}' が見つかりません（パス: {}）",
                 filename, full_path);
}
```

## 禁止事項

1. **プロジェクトルートにソースファイル配置**
2. **テストなしのコミット**
3. **ドキュメントなしの新機能**
4. **ハードコードされたパス**
5. **環境依存のコード**

## 推奨事項

1. **早期リターン**で可読性向上
2. **RAII**でリソース管理
3. **const正確性**の維持
4. **小さな関数**（30行以内）
5. **明確な名前付け**

## デバッグ支援

```cpp
// アサーション活用
assert(ptr != nullptr && "ポインタがnull");

// ログ出力
LOG(DEBUG, "処理開始: {}", param);
```

## パフォーマンス

- **計測してから最適化**
- **プロファイリング結果を記録**
- **ベンチマークテスト作成**

---
このファイルは全プロジェクトで共有される設定です。
プロジェクト固有の設定は`CLAUDE.md`に記載してください。