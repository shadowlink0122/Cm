// Tail-Recursive Fibonacci Test
import std::io;

// 末尾再帰版フィボナッチ（アキュムレータパターン）
int fib_tail(int n, int a, int b) {
    if (n == 0) { return a; }
    if (n == 1) { return b; }
    return fib_tail(n - 1, b, a + b);
}

int fib(int n) {
    return fib_tail(n, 0, 1);
}

int main() {
    println("Testing tail-recursive fibonacci...");
    
    println("fib(10) = {fib(10)}");
    println("fib(20) = {fib(20)}");
    println("fib(30) = {fib(30)}");
    
    println("Test completed!");
    return 0;
}
