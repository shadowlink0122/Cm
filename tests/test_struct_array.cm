// Struct array test
import std::io;

struct Point {
    int x;
    int y;
}

struct Person {
    int age;
    int height;
}

void modify_points(Point* points, int n) {
    for (int i = 0; i < n; i++) {
        points[i].x = i * 10;
        points[i].y = i * 20;
    }
}

int main() {
    // 構造体の配列テスト
    Point[5] points;
    
    // 初期化
    for (int i = 0; i < 5; i++) {
        points[i].x = i;
        points[i].y = i * 2;
    }
    
    println("Before modify:");
    println("points[0] = ({points[0].x}, {points[0].y})");
    println("points[4] = ({points[4].x}, {points[4].y})");
    
    // 関数経由で変更
    modify_points(points, 5);
    
    println("After modify:");
    println("points[0] = ({points[0].x}, {points[0].y})");
    println("points[4] = ({points[4].x}, {points[4].y})");
    
    // 合計を計算
    int sum = 0;
    for (int i = 0; i < 5; i++) {
        sum = sum + points[i].x + points[i].y;
    }
    // Expected: (0+0) + (10+20) + (20+40) + (30+60) + (40+80) = 300
    println("Sum of all fields: {sum}");
    println("Expected: 300");
    
    return 0;
}
