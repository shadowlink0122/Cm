// ゼロコストムーブコンストラクタのテスト（プリミティブ型）
// 借用・所有権システムを活用した効率的な値の移動を実証

int main() {
    println("=== ムーブセマンティクステスト ===");
    
    // 1. 変数の作成
    int x = 42;
    println("1. 作成: x={x}");
    
    // 2. ムーブで所有権移動
    int y = move x;
    println("2. ムーブ後: y={y}");
    // x はもう使用不可（use-after-moveエラー）
    
    // 3. 再代入でxを復活
    x = 100;
    println("3. x復活: x={x}");
    
    // 4. 連続ムーブ
    int z = move y;
    println("4. y->z: z={z}");
    
    y = move z;
    println("5. z->y: y={y}");
    
    // 6. ムーブ前に借用（ポインタ取得）
    int a = 50;
    int* p = &a;
    println("6. 借用: *p={*p}");
    // int b = move a;  // エラー: 借用中はムーブできない
    
    println("=== テスト完了 ===");
    return 0;
}
