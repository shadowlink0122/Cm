// Option型の基本テスト
import std::io::println;
import std::option::*;

// 配列から最初の偶数を探す
IntOption find_first_even(int a, int b, int c) {
    if (a % 2 == 0) {
        return int_some(a);
    }
    if (b % 2 == 0) {
        return int_some(b);
    }
    if (c % 2 == 0) {
        return int_some(c);
    }
    return int_none();
}

int main() {
    println("=== Option Basic Test ===");
    
    // 偶数が見つかるケース
    IntOption o1 = find_first_even(1, 4, 7);
    if (o1.is_some()) {
        int v = o1.unwrap();
        println("Found even: {v}");
    }
    
    // 偶数が見つからないケース
    IntOption o2 = find_first_even(1, 3, 5);
    if (o2.is_none()) {
        println("No even number found");
    }
    
    // unwrap_or
    int v1 = o1.unwrap_or(-1);
    int v2 = o2.unwrap_or(-1);
    println("o1.unwrap_or(-1) = {v1}");
    println("o2.unwrap_or(-1) = {v2}");
    
    println("=== PASS ===");
    return 0;
}
