// __llvm__ オペランドテスト
// 変数オペランドを使ったインラインアセンブリ
// 注: O3最適化では結果が正しく伝播しない問題あり（O0では動作）

import std::io::println;

int main() {
    println("=== LLVM Operand Test ===");
    
    // 変数初期化
    int x = 50;
    
    // x86_64 AT&T構文: addl $imm, %reg
    // ${+r:x}が$0に変換される  
    __llvm__("addl $$10, ${+r:x}");
    
    // asm結果を直接表示
    println("Result (should be 60):");
    println(x);
    
    return 0;
}
