// complete_types.cm - 完全なモジュール機能のデモンストレーション
module complete_types;

// 構造体のエクスポート
export struct Vector2D {
    float x;
    float y;
}

// 列挙型のエクスポート
export enum Direction {
    North,
    South,
    East,
    West
}

// インターフェースのエクスポート（現在は使用しない）
// export interface Shape {
//     float area();
// }

// 構造体操作関数
export Vector2D createVector(float x, float y) {
    Vector2D v;
    v.x = x;
    v.y = y;
    return v;
}

export float vectorLength(Vector2D v) {
    // 簡易計算（実際の平方根は実装していない）
    return v.x * v.x + v.y * v.y;
}

export Direction oppositeDirection(Direction d) {
    if (d == Direction::North) {
        return Direction::South;
    }
    if (d == Direction::South) {
        return Direction::North;
    }
    if (d == Direction::East) {
        return Direction::West;
    }
    return Direction::East;
}

export void printDirection(Direction d) {
    if (d == Direction::North) {
        println("North");
    }
    if (d == Direction::South) {
        println("South");
    }
    if (d == Direction::East) {
        println("East");
    }
    if (d == Direction::West) {
        println("West");
    }
}