// ユニオン型配列テスト（intのみ版）
import std::io::println;

// ユニオン型定義（int と long）
typedef IntOrLong = int | long;

int main() {
    println("=== Union Array Test ===");

    // ユニオン型の配列
    IntOrLong[5] arr;

    // int を代入
    arr[0] = 42 as IntOrLong;
    arr[1] = 100 as IntOrLong;
    int neg = 0 - 5;
    arr[2] = neg as IntOrLong;

    // long を代入
    long big1 = 1000000;
    long big2 = 2000000;
    arr[3] = big1 as IntOrLong;
    arr[4] = big2 as IntOrLong;

    println("Array filled with mixed int/long types");

    // キャストして取得
    int n0 = arr[0] as int;
    int n1 = arr[1] as int;
    int n2 = arr[2] as int;
    long l3 = arr[3] as long;
    long l4 = arr[4] as long;

    println("Values:");
    println("  arr[0] as int: {n0}");
    println("  arr[1] as int: {n1}");
    println("  arr[2] as int: {n2}");
    println("  arr[3] as long: {l3}");
    println("  arr[4] as long: {l4}");

    println("=== PASS ===");
    return 0;
}
