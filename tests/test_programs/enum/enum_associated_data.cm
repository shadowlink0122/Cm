// データ付きenum（Associated Data）のテスト
// v0.13.0 新機能
import std::io::println;

// データ付きenum定義
enum Message {
    Quit,                          // データなし
    Move(int x, int y),            // 2つの整数
    Write(string text),            // 文字列
    ChangeColor(int r, int g, int b)  // 3つの整数
}

// enumを処理する関数
void process_message(Message msg) {
    match msg {
        Quit => {
            println("Quit message");
        }
        Move(x, y) => {
            println("Move to ({x}, {y})");
        }
        Write(text) => {
            println("Write: {text}");
        }
        ChangeColor(r, g, b) => {
            println("Color: RGB({r}, {g}, {b})");
        }
    }
}

int main() {
    println("=== Enum Associated Data Test ===");
    
    // 各バリアントの作成
    Message m1 = Message.Quit;
    Message m2 = Message.Move(100, 200);
    Message m3 = Message.Write("Hello, World!");
    Message m4 = Message.ChangeColor(255, 128, 0);
    
    // 処理
    process_message(m1);
    process_message(m2);
    process_message(m3);
    process_message(m4);
    
    println("=== Complete ===");
    return 0;
}
