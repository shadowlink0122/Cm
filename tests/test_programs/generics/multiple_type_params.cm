// 複数の型パラメータを持つジェネリクスのテスト

// 2つの型パラメータを持つPair
struct Pair<T, U> {
    T first;
    U second;
}

// 2つの型パラメータを持つ関数
<T, U> Pair<T, U> make_pair(T a, U b) {
    Pair<T, U> p;
    p.first = a;
    p.second = b;
    return p;
}

// 型パラメータを入れ替える
<T, U> Pair<U, T> swap_pair(Pair<T, U> p) {
    Pair<U, T> result;
    result.first = p.second;
    result.second = p.first;
    return result;
}

int main() {
    // int と string のペア
    Pair<int, string> p1 = make_pair(42, "hello");
    println("p1.first = {p1.first}");
    println("p1.second = {p1.second}");
    
    // double と bool のペア
    Pair<double, bool> p2 = make_pair(3.14, true);
    println("p2.first = {p2.first}");
    println("p2.second = {p2.second}");
    
    // 型パラメータを入れ替え
    Pair<string, int> p3 = swap_pair(p1);
    println("p3.first = {p3.first}");
    println("p3.second = {p3.second}");
    
    return 0;
}
