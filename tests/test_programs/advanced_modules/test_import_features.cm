import std::io::println;
// test_import_features.cm - 新しいインポート機能のテスト

// 1. エイリアス付きインポート
import ./math as M;

// 2. from構文による選択的インポート
import ./math::{ Vector3, dot };

// 3. 相対パスインポート
import ./math/constants;
// 直接内部ファイルにアクセス（テスト用）

int main() {
    // エイリアス経由でアクセス
    println("Testing import as:");
    println("PI via alias = {M::PI}");

    // 選択的インポートでアクセス（名前空間不要）
    println("\nTesting from import:");
    Vector3 v1 = Vector3 { x: 1.0, y: 2.0, z: 3.0 };
    Vector3 v2 = Vector3 { x: 4.0, y: 5.0, z: 6.0 };

    const float result = dot(v1, v2);
    println("dot(v1, v2) = {result}");

    // エイリアス経由で他の関数を使用
    println("\nTesting alias namespace:");
    const Vector3 v3 = M::cross(v1, v2);
    println("cross(v1, v2) = ({v3.x}, {v3.y}, {v3.z})");

    // 正規化
    const Vector3 v4 = M::normalize(v1);
    println("normalize(v1) = ({v4.x}, {v4.y}, {v4.z})");

    // 定数の使用
    println("\nConstants:");
    println("E = {M::E}");

    return 0;
}
