// 暗黙的構造体リテラルのテスト

struct Point {
    int x;
    int y;
}

struct Line {
    Point start;
    Point end;
}

struct Data {
    int[3] values;
    int count;
}

int main() {
    // 明示的型名（従来の方法）
    Point p1 = Point{x: 10, y: 20};
    println(p1.x);
    println(p1.y);
    
    // 暗黙的構造体リテラル - 変数の型から推論
    Point p2 = {x: 30, y: 40};
    println(p2.x);
    println(p2.y);
    
    // ネストした暗黙的構造体リテラル
    Line line = {
        start: {x: 0, y: 0},
        end: {x: 100, y: 200}
    };
    println(line.start.x);
    println(line.end.y);
    
    // 単純な配列リテラル
    int[3] nums = [1, 2, 3];
    println(nums[0]);
    println(nums[1]);
    println(nums[2]);
    
    // 構造体の配列リテラル
    Point[2] points = [
        {x: 50, y: 60},
        {x: 70, y: 80}
    ];
    println(points[0].x);
    println(points[1].y);
    
    // 配列メンバを持つ構造体
    Data d = {
        values: [100, 200, 300],
        count: 3
    };
    println(d.count);
    println(d.values[0]);
    println(d.values[2]);
    
    return 0;
}
