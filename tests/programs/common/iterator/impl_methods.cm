import std::io::println;

// impl内での通常メソッド定義テスト
// 設計ドキュメント027の「推奨機能」を検証

// 非ジェネリック構造体で基本動作を確認
struct IntContainer {
    int value;
    int count;
}

// impl内でコンストラクタと通常メソッドを定義
impl IntContainer {
    // コンストラクタ
    self(int val) {
        self.value = val;
        self.count = 1;
    }

    // 通常メソッド: 値を取得
    int get() {
        return self.value;
    }

    // 通常メソッド: カウントをインクリメント
    void increment() {
        self.count = self.count + 1;
    }

    // 通常メソッド: カウントを取得
    int get_count() {
        return self.count;
    }
}

int main() {
    // IntContainerでテスト
    IntContainer c = IntContainer(42);

    int val = c.get();
    println("value: {val}");

    c.increment();
    c.increment();
    int cnt = c.get_count();
    println("count: {cnt}");

    return 0;
}
