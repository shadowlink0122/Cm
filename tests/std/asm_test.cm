// std::asm テスト
// インラインアセンブリヘルパー関数のテスト

import std::io::println;
import std::asm::{nop, barrier, is_x86, is_arm64};

int main() {
    println("=== std::asm test ===");
    
    // NOP命令
    println("--- nop ---");
    nop();
    println("nop: ok");
    
    // メモリバリア
    println("--- barrier ---");
    barrier();
    println("barrier: ok");
    
    // アーキテクチャ検出
    println("--- architecture ---");
    if (is_x86()) {
        println("arch: x86");
    } else if (is_arm64()) {
        println("arch: arm64");
    } else {
        println("arch: other");
    }
    
    println("=== test complete ===");
    return 0;
}
