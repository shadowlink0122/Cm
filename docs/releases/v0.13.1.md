---
title: v0.13.1
parent: Release Notes
nav_order: 1
---

# Cm v0.13.1 ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ

**ãƒªãƒªãƒ¼ã‚¹æ—¥:** 2026-02-08

## âœ¨ ãƒã‚¤ãƒ©ã‚¤ãƒˆ

v0.13.1ã¯ã€**GPU/Metalå¯¾å¿œ**ã€**ãƒãƒ«ãƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ“ãƒ«ãƒ‰**ã€**æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®‰å®šåŒ–**ã€**HTTPSå¯¾å¿œ**ã‚’å«ã‚€ãƒªãƒªãƒ¼ã‚¹ã§ã™ã€‚ãƒ†ã‚¹ãƒˆæ•°360 PASS / 0 FAILã®å®‰å®šãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’é”æˆã—ã¾ã—ãŸã€‚

### ä¸»è¦ãªå¤‰æ›´ç‚¹

- **GPU/Metalå¯¾å¿œ**: Apple Metal GPUãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ã‚ˆã‚‹GPUæ¼”ç®—
- **ARM64ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ“ãƒ«ãƒ‰**: x86_64 LLVMï¼ˆRosetta 2ï¼‰ã‹ã‚‰ARM64 LLVMã¸ç§»è¡Œ
- **ãƒãƒ«ãƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ“ãƒ«ãƒ‰**: `make build ARCH=arm64/x86_64`ã§è‡ªå‹•åˆ‡æ›¿
- **HTTPS (TLS) å¯¾å¿œ**: OpenSSL 3.6.0ã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ã‚¢é€šä¿¡
- **ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿/ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿**: `self()`/`~self()`æ§‹æ–‡
- **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å®‰å®šåŒ–**: Vector, Queue, HashMap ã‚’ã‚¤ãƒ‡ã‚£ã‚ªãƒãƒ†ã‚£ãƒƒã‚¯ãªAPIåŒ–
- **std::httpå®Ÿè£…**: struct+impl APIãƒ‡ã‚¶ã‚¤ãƒ³ã«ã‚ˆã‚‹HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- **constå®šæ•°è©•ä¾¡æ‹¡å¼µ**: const foldingã€Octalãƒªãƒ†ãƒ©ãƒ«ï¼ˆ`0o`ï¼‰ã‚µãƒãƒ¼ãƒˆ

---

## ğŸš€ æ–°æ©Ÿèƒ½

### GPU/Metalå¯¾å¿œ

Apple Metal GPUãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ã‚ˆã‚‹GPUæ¼”ç®—:

```cm
import std::gpu::create_context;
import std::gpu::gpu_alloc;
import std::gpu::gpu_compute;

int main() {
    long ctx = create_context();
    long buf_a = gpu_alloc(ctx, a_data, 4);
    long buf_b = gpu_alloc(ctx, b_data, 4);
    gpu_compute(ctx, "vector_add", buf_a, buf_b, buf_out, 4);
    return 0;
}
```

- Metal Shading Language (MSL) ã‚«ãƒ¼ãƒãƒ«å®Ÿè¡Œ
- int/float/doubleå‹ã®GPUãƒãƒƒãƒ•ã‚¡ç®¡ç†
- macOS Apple Siliconç’°å¢ƒã§å‹•ä½œ
- Nativeã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯¾å¿œï¼ˆGPU XOR NNå­¦ç¿’ãƒ†ã‚¹ãƒˆæ­è¼‰ï¼‰

### ãƒãƒ«ãƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ“ãƒ«ãƒ‰

ARCHã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æŒ‡å®šå¯èƒ½:

```bash
make build              # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆLLVMè‡ªå‹•æ¤œå‡ºï¼‰
make build ARCH=arm64   # ARM64ãƒ“ãƒ«ãƒ‰
make build ARCH=x86_64  # x86_64ãƒ“ãƒ«ãƒ‰
```

- LLVMãƒ›ã‚¹ãƒˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‹ã‚‰è‡ªå‹•æ¤œå‡º
- Homebrewãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®è‡ªå‹•åˆ‡æ›¿
- OpenSSL/LLVMãƒ‘ã‚¹ã®è‡ªå‹•è¨­å®š
- `BUILD_ENV`ã§`LDFLAGS`ã‚’ä¸Šæ›¸ãã€x86ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ··å…¥ã‚’é˜²æ­¢

### HTTPS (TLS) å¯¾å¿œ

OpenSSL 3.6.0ã«ã‚ˆã‚‹æš—å·åŒ–é€šä¿¡:

```cm
import std::http::request;

int main() {
    // HTTPSé€šä¿¡
    request("https://example.com", "GET");
    return 0;
}
```

### ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿/ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿

`self()`/`~self()`æ§‹æ–‡ã«ã‚ˆã‚‹æ…£ç”¨çš„ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†:

```cm
struct Vector<T> {
    T* data;
    int size;
    int capacity;

    self() {
        this.data = malloc(8 * sizeof(T)) as T*;
        this.size = 0;
        this.capacity = 8;
    }

    ~self() {
        free(this.data as void*);
    }
}

int main() {
    Vector<int> v();  // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿è‡ªå‹•å‘¼ã³å‡ºã—
    v.push(42);
    // ã‚¹ã‚³ãƒ¼ãƒ—çµ‚äº†æ™‚ã«ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿è‡ªå‹•å‘¼ã³å‡ºã—
    return 0;
}
```

### æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®‰å®šåŒ–

#### std::collectionsï¼ˆVector, Queue, HashMapï¼‰

```cm
import std::collections::vector::Vector;
import std::collections::hashmap::HashMap;

int main() {
    Vector<int> v();
    v.push(1);
    v.push(2);
    println("size: {v.len()}");  // 2

    HashMap<int, int> m();
    m.set(1, 100);
    return 0;
}
```

#### std::syncï¼ˆMutex, Channelï¼‰

```cm
import std::sync::mutex_create;
import std::sync::mutex_lock;
import std::sync::mutex_unlock;

int main() {
    long m = mutex_create();
    mutex_lock(m);
    // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³
    mutex_unlock(m);
    return 0;
}
```

#### std::httpï¼ˆHTTP/HTTPSé€šä¿¡ï¼‰

struct+impl APIãƒ‡ã‚¶ã‚¤ãƒ³ã«ã‚ˆã‚‹HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ:

```cm
import std::http::HttpClient;

int main() {
    HttpClient client();
    client.get("http://example.com");
    return 0;
}
```

#### std::core::result

`CmResult<T, E>`å‹ã®å®Ÿè£…:

```cm
import std::core::result::CmResult;

CmResult<int, string> safe_divide(int a, int b) {
    if (b == 0) {
        return CmResult::Err("Division by zero");
    }
    return CmResult::Ok(a / b);
}
```

### constå®šæ•°è©•ä¾¡æ‹¡å¼µ

- **const folding**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°ç•³ã¿è¾¼ã¿ã®æ”¹å–„
- **Octalãƒªãƒ†ãƒ©ãƒ«**: `0o777`å½¢å¼ã®8é€²æ•°ãƒªãƒ†ãƒ©ãƒ«ã‚µãƒãƒ¼ãƒˆ

```cm
const int OCTAL = 0o777;     // 511
const int FOLDED = 10 * 20;  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è©•ä¾¡
```

---

## ğŸ“ ä¸»è¦ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

### æ–°æ©Ÿèƒ½

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `std/gpu/mod.cm` | Metal GPUæ¼”ç®—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« |
| `std/gpu/gpu_runtime.mm` | Objective-C++ Metal GPU ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  |
| `std/http/mod.cm` | HTTP/HTTPSé€šä¿¡ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« |
| `std/http/http_runtime.cpp` | HTTPé€šä¿¡ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼ˆOpenSSLçµ±åˆï¼‰ |
| `std/sync/mod.cm` | Mutex/ChannelåŒæœŸãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ– |
| `std/collections/` | Vector/Queue/HashMap(self()/~self()) |
| `std/core/result.cm` | CmResult\<T, E\>å‹ |

### ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `CMakeLists.txt` | ARM64è‡ªå‹•æ¤œå‡ºã€LLVM/OpenSSLãƒ‘ã‚¹ |
| `Makefile` | ãƒãƒ«ãƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è‡ªå‹•ç’°å¢ƒè¨­å®š |
| `src/codegen/llvm/native/target.hpp` | ARM64ãƒˆãƒªãƒ—ãƒ«å¯¾å¿œ |
| `src/codegen/llvm/native/codegen.hpp` | `-arch arm64`ãƒ•ãƒ©ã‚° |

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆçŠ¶æ³

| ã‚«ãƒ†ã‚´ãƒª | é€šé | å¤±æ•— | ã‚¹ã‚­ãƒƒãƒ— |
|---------|-----|------|---------|
| LLVM Native (O3) | 360 | 0 | 8 |
| ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ (O3) | 360 | 0 | 8 |
| GPU (Metal) | PASS | - | - |

**v0.13.0ã‹ã‚‰ã®æ–°è¦ãƒ†ã‚¹ãƒˆ (+7):**
- GPU: `gpu/gpu_basic.cm`, `gpu/gpu_xor_nn_test.cm`, `gpu/gpu_float_test.cm`
- HTTP: `http/http_external_test.cm`, `http/http_rest_test.cm`
- åŒæœŸ: `sync/thread_channel_atomic_test.cm`
- const: `const/octal_test.cm`

---

## ğŸ“Š çµ±è¨ˆ

- **ãƒ†ã‚¹ãƒˆç·æ•°**: 368ï¼ˆv0.13.0ã®360ã‹ã‚‰8å¢—åŠ ï¼‰
- **æ–°è¦æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: gpu, http, collections, core/result

---

## ğŸ”® ä»Šå¾Œã®äºˆå®š

- **v0.14.0**: JavaScript/WASMãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¼·åŒ–ã€File I/Oã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

---

## ğŸ“ è¬è¾

ã“ã®ãƒªãƒªãƒ¼ã‚¹ã¯ã€ARM64ãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œã¨GPUæ¼”ç®—ã¨ã„ã†å¤§ããªæŠ€è¡“çš„ç›®æ¨™ã‚’é”æˆã—ã¾ã—ãŸã€‚
