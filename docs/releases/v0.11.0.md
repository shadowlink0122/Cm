---
title: v0.11.0
parent: Release Notes
nav_order: 1
---

# Cm v0.11.0 リリースノート

**リリース日:** 2026-01-07

## ✨ ハイライト

このリリースでは、待望の**所有権と借用システム**が導入されました。これにより、ガベージコレクションなしでメモリ安全性を保証する強力な仕組みが提供されます。

### 主要な変更点

- **所有権システム**: 変数の所有権移動（Move Semantics）の実装
- **借用チェッカー**: コンパイル時の参照（`&T`, `&mut T`）の有効性チェック
- **ライフタイム**: 参照の生存期間の明示的な管理
- **バグ修正**: 構造体メソッド呼び出し時のクラッシュ修正、配列境界チェックの強化

---

## 🚀 新機能

### 所有権と移動 (Ownership & Move)

デフォルトで、構造体などの非プリミティブ型は代入時に所有権が移動します。

```cm
struct Box { int x; }

int main() {
    Box a = {x: 10};
    Box b = a;  // 所有権が a から b へ移動
    
    // println("{}", a.x); // エラー: a は移動済み
    println("{}", b.x); // OK
    return 0;
}
```

### 借用 (Borrowing)

所有権を移動させずに値を参照するために、`&`（不変参照）と `&mut`（可変参照）を使用できます。

```cm
void print_box(const Box& b) { // 借用（読み取りのみ）
    println("Box({})", b.x);
}

int main() {
    Box a = {x: 10};
    print_box(&a); // 参照を渡す
    println("{}", a.x); // 所有権は移動していないのでアクセス可能
    return 0;
}
```

---

## 🐛 バグ修正

- **[Compiler]** 構造体のメソッド呼び出しにおいて、`self` が正しくポインタとして渡されない問題を修正しました。
- **[Compiler]** `enum` の `match` 式における網羅性チェックの不具合を修正しました。
- **[Std]** 配列の境界外アクセス時に適切なパニックが発生しない問題を修正しました。

---

## ⚠️ 破壊的変更

- 構造体の代入動作が「コピー」から「移動」に変更されました（`Copy` トレイトを実装していない場合）。既存のコードでコピーを意図していた箇所は `.clone()` を明示的に呼ぶか、`with Copy` を追加する必要があります。
