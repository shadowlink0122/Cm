# Cm言語 未実装機能とマイルストーン整理

**作成日**: 2026-02-04  
**更新日**: 2026-02-08  
**現在のバージョン**: v0.13.1

---

## 📊 バージョン状況まとめ

| バージョン | 状態 | 主な機能 |
|-----------|------|---------|
| v0.10.0 | ✅ 完了 | モジュール、FFI、ラムダ、クロージャ、動的スライス |
| v0.11.0 | ✅ 完了 | 安定性修正、FFI/ABI互換、静的解析強化、イテレータ拡張 |
| v0.12.0 | ✅ 完了 | Lint/Formatter、const強化、末尾呼び出し最適化、多次元配列最適化 |
| v0.13.0 | ✅ 完了 | Zero-libc I/O、スレッド、インラインASM、条件付きコンパイル、Tagged Union |
| v0.13.1 | ✅ 完了 | GPU/Metal、ARM64ビルド、HTTPS、コレクション安定化 |
| v0.14.0 | 📋 計画中 | JavaScript/WASMバックエンド強化、File I/O、パッケージ管理 |

---

## 🔴 未実装の言語機能（優先度順）

### 高優先度（v0.14.0で計画）

| 機能 | 状態 | 説明 |
|------|------|------|
| `for (i in 0..n)` | ⬜ | 範囲イテレータ |
| パッケージ管理 | ⬜ | `cm pkg init/add` |
| File I/O強化 | ⬜ | 本格的なファイル入出力 |
| JSバックエンド改善 | ⬜ | ポインタ非依存セマンティクス |

### 中優先度（v0.15.0以降）

| 機能 | 状態 | 説明 |
|------|------|------|
| async/await再導入 | ⬜ | スレッドプールベースの非同期処理 |
| Future型 | ⬜ | 非同期計算の抽象化 |
| 関数マクロ | ⬜ | `macro foo(x) { ... }` |
| 参照型 (`&T`) | 🔧 部分実装 | 借用チェック付き参照 |
| 借用チェッカー | 🔧 部分実装 | 二重可変借用検出など |

---

## ✅ 実装済み機能（v0.10.0〜v0.13.1）

### v0.10.0 完了機能
- モジュールシステム (import/export)
- FFI (`use libc { ... }`)
- ラムダ式 (`(params) => { body }`)
- クロージャ（変数キャプチャ）
- 動的スライス (`T[]`, `T[][]`)
- 高階関数 (map/filter/reduce/some/every/find)
- no_std対応
- Debug/Display自動実装

### v0.11.0 完了機能
- 型チェッカー再帰ガード
- C ABI値渡し修正
- 配列境界チェック生成
- 警告システム基盤
- const推奨警告
- 初期化前使用チェック
- エラー報告統一
- イテレータ拡張 (`std::iter`)

### v0.12.0 完了機能
- `cm lint` コマンド
- `cm fmt` コマンド
- 未使用変数警告
- const強化（配列サイズにconst使用可能）
- 末尾呼び出し最適化
- 多次元配列最適化

### v0.13.0 完了機能
- Zero-libc I/O（std::io刷新）
- std::thread（pthread直接使用）
- インラインアセンブリ（`__asm__`）
- 条件付きコンパイル（`#ifdef`/`#ifndef`）
- Tagged Union（関連データ付きenum）
- Match Guard
- async/await削除
- 診断カタログ拡充（E300-E699, W100-W401, L200-L402）

### v0.13.1 完了機能
- GPU/Metal対応
- ARM64ネイティブLLVMビルド
- マルチアーキテクチャビルド自動化
- HTTPS (TLS) 対応（OpenSSL 3.6.0）
- ジェネリックコンストラクタ/デストラクタ（`self()`/`~self()`）
- コレクション安定化（Vector, Queue, HashMap）
- std::http実装
- std::core::result（CmResult<T, E>型）
- const folding、Octalリテラル（`0o`）

---

## ⚠️ 既知の制限（v0.13.1時点）

### Tagged Union (enum)
| 制限 | 説明 | 回避策 |
|------|------|--------|
| 構造体バリアント | 構造体をバリアントとして使用するとmatch抽出時に型推論が失敗 | プリミティブ型のみ使用 |
| 複数フィールド非対応 | `Some(x, y)`形式は未対応 | 単一フィールドのみ使用 |

### ジェネリクス
| 制限 | 説明 | 回避策 |
|------|------|--------|
| 文字列補間内メソッド呼び出し | `println("{v.get(0)}")` がハング | ローカル変数に代入してから補間 |

---

## 📚 参考ドキュメント

- **docs/FEATURES.md**: 実装済み機能一覧
- **docs/releases/v0.13.1.md**: v0.13.1リリースノート
- **docs/releases/v0.13.0.md**: v0.13.0リリースノート
- **docs/design/v0.14.0/**: v0.14.0設計ドキュメント
