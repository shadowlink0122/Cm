# Cm言語 未実装機能とマイルストーン整理

**作成日**: 2026-01-28
**現在のバージョン**: v0.11.0相当（feature/v0.12.0ブランチで開発中）

---

## 📊 バージョン状況まとめ

| バージョン | 状態 | 主な機能 |
|-----------|------|---------|
| v0.10.0 | ✅ 完了 | モジュール、FFI、ラムダ、クロージャ、動的スライス |
| v0.11.0 | ✅ ほぼ完了 | 安定性修正、FFI/ABI互換、静的解析強化、イテレータ拡張、File I/O |
| v0.12.0 | 🚧 開発中 | Lint/Formatter（実装済み）、const強化 |
| v0.13.0 | 📋 計画中 | パッケージ管理、VSCode拡張 |
| v0.14.0+ | 📋 将来 | インラインアセンブリ、async/await、ベアメタル |

---

## 🔴 未実装の言語機能（優先度順）

### 高優先度（v0.12.0で計画）

| 機能 | 状態 | 説明 |
|------|------|------|
| `cm lint` コマンド | ✅ 実装済み | コード品質チェック |
| `cm fmt` コマンド | ✅ 実装済み | コードフォーマッタ |
| 未使用変数警告 | ✅ 実装済み | 使われていない変数を検出 |
| const強化（コンパイル時計算） | ⬜ | 配列サイズにconst使用可能に |

> **設計決定**: `constexpr`キーワードは追加せず、`const`をRust方式に強化する
> - const = 必ずコンパイル時に確定する値
> - 実行時の値で初期化するとエラー
> - 配列サイズ等に使用可能

### 中優先度（v0.13.0で計画）

| 機能 | 状態 | 説明 |
|------|------|------|
| `cm pkg init` | ⬜ | パッケージの初期化 |
| `cm pkg add` | ⬜ | 依存関係の追加 |
| 依存関係解決 | ⬜ | パッケージ間の依存を解決 |
| リモートレジストリ | ⬜ | パッケージの公開・取得 |
| VSCode拡張機能 | ⬜ | 構文ハイライト、エラーマーカー、補完 |

### 低優先度（v0.14.0以降）

| 機能 | 状態 | 説明 |
|------|------|------|
| インラインアセンブリ (`asm`) | ⬜ | 低レベルハードウェアアクセス |
| `for ((index, item) in arr)` | ⬜ | インデックス付きfor-in |
| `for (i in 0..n)` | ⬜ | 範囲イテレータ |
| 参照型 (`&T`) | 🔧 部分実装 | 借用チェック付き参照 |
| 借用チェッカー | 🔧 部分実装 | 二重可変借用検出など |
| async/await | ⬜ | 非同期処理 |
| Future型 | ⬜ | 非同期計算の抽象化 |
| マクロシステム | ⬜ | `#macro` 定義 |

---

## ✅ 実装済み機能（v0.10.0〜v0.11.0）

### v0.10.0 完了機能
- モジュールシステム (import/export)
- FFI (`use libc { ... }`)
- ラムダ式 (`(params) => { body }`)
- クロージャ（変数キャプチャ）
- 動的スライス (`T[]`, `T[][]`)
- 高階関数 (map/filter/reduce/some/every/find)
- no_std対応
- Debug/Display自動実装

### v0.11.0 完了機能
- 型チェッカー再帰ガード
- C ABI値渡し修正
- 配列境界チェック生成
- 一時文字列プール基盤
- 警告システム基盤
- const推奨警告
- 初期化前使用チェック
- エラー報告統一
- イテレータ拡張 (`std::iter`)
- File I/O (`std::fs`)
- stdin入力 (`std::io`)

---

## 🎯 現在のブランチ (feature/v0.12.0) での作業状況

### CI関連（完了）
- [x] Windows CIを削除（LLVMサポートがないため）
- [x] Linux/macOSのみでCI実行

### 未着手
- [ ] Linterの設計・実装
- [ ] Formatterの設計・実装
- [ ] constexprの設計・実装

---

## 📚 参考ドキュメント

- **ROADMAP.md**: 全体ロードマップ（2841行）
- **docs/VERSION_PLAN.md**: バージョン計画まとめ
- **docs/FEATURES.md**: 実装済み機能一覧
- **docs/design/ownership_and_borrowing.md**: 所有権・借用設計
