---
title: é…åˆ—
parent: Tutorials
---

[English](../../en/basics/arrays.html)

# é…åˆ—ï¼ˆArraysï¼‰

Cmè¨€èªã®é…åˆ—ã¯ã€C++ã‚¹ã‚¿ã‚¤ãƒ«ã®å›ºå®šé•·é…åˆ—ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [åŸºæœ¬çš„ãªä½¿ã„æ–¹](#åŸºæœ¬çš„ãªä½¿ã„æ–¹)
- [é…åˆ—ã®åˆæœŸåŒ–](#é…åˆ—ã®åˆæœŸåŒ–)
- [ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹](#ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹)
- [é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰](#é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰)
- [æ§‹é€ ä½“é…åˆ—](#æ§‹é€ ä½“é…åˆ—)
- [ãƒã‚¤ãƒ³ã‚¿ã¸ã®å¤‰æ›](#ãƒã‚¤ãƒ³ã‚¿ã¸ã®å¤‰æ›)
- [for-inæ§‹æ–‡](#for-inæ§‹æ–‡)

## åŸºæœ¬çš„ãªä½¿ã„æ–¹

### é…åˆ—å®£è¨€

```cm
// åŸºæœ¬çš„ãªé…åˆ—å®£è¨€
int[5] numbers;

// å®£è¨€ã¨åˆæœŸåŒ–
int[3] values = [1, 2, 3];

// ã‚µã‚¤ã‚ºæ¨è«–
int[] auto_size = {10, 20, 30};  // ã‚µã‚¤ã‚º3ã¨æ¨è«–
```

## é…åˆ—ã®åˆæœŸåŒ–

```cm
// ã‚¼ãƒ­åˆæœŸåŒ–
int[10] zeros;  // ã™ã¹ã¦0

// ãƒªãƒ†ãƒ©ãƒ«åˆæœŸåŒ–
int[5] primes = {2, 3, 5, 7, 11};

// éƒ¨åˆ†åˆæœŸåŒ–
int[5] partial = [1, 2];  // {1, 2, 0, 0, 0}
```

## è¦ç´ ã®ã‚¢ã‚¯ã‚»ã‚¹

```cm
int main() {
    int[5] numbers;
    int first = numbers[0];
    numbers[1] = 10;
    return 0;
}
```

> **v0.11.0ã®å¤‰æ›´ç‚¹**: å¢ƒç•Œãƒã‚§ãƒƒã‚¯ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚ç¯„å›²å¤–ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯å®‰å…¨ã«åœæ­¢ï¼ˆãƒ‘ãƒ‹ãƒƒã‚¯ï¼‰ã—ã¾ã™ã€‚

## é…åˆ—ã®ãƒ¡ã‚½ãƒƒãƒ‰

### ã‚µã‚¤ã‚ºå–å¾—

```cm
int[5] arr;

int size1 = arr.size();     // 5
int size2 = arr.len();      // 5
int size3 = arr.length();   // 5ï¼ˆå…¨ã¦åŒã˜ï¼‰
```

### è¦ç´ æ¤œç´¢

```cm
int[5] numbers = [1, 2, 3, 4, 5];

// indexOf - è¦ç´ ã®ä½ç½®ã‚’æ¤œç´¢
int pos = numbers.indexOf(3);  // 2
int not_found = numbers.indexOf(10);  // -1

// includes - è¦ç´ ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹
bool has_3 = numbers.includes(3);  // true
bool has_10 = numbers.includes(10);  // false

// containsï¼ˆincludesã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼‰
bool has_5 = numbers.contains(5);  // true
```

### é«˜éšé–¢æ•°ãƒ¡ã‚½ãƒƒãƒ‰

```cm
int[5] numbers = [1, 2, 3, 4, 5];

// some - ã„ãšã‚Œã‹ãŒæ¡ä»¶ã‚’æº€ãŸã™ã‹
bool has_even = numbers.some(|x| x % 2 == 0);  // true

// every - ã™ã¹ã¦ãŒæ¡ä»¶ã‚’æº€ãŸã™ã‹
bool all_positive = numbers.every(|x| x > 0);  // true

// findIndex - æ¡ä»¶ã‚’æº€ãŸã™æœ€åˆã®è¦ç´ ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
int idx = numbers.findIndex(|x| x > 3);  // 3 (å€¤4ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹)
```

## æ§‹é€ ä½“é…åˆ—

```cm
struct Point {
    int x;
    int y;
}

int main() {
    // æ§‹é€ ä½“é…åˆ—ã®å®£è¨€
    Point[3] points;

    // åˆæœŸåŒ–
    points[0].x = 10;
    points[0].y = 20;

    points[1].x = 30;
    points[1].y = 40;

    // æ§‹é€ ä½“é…åˆ—ã®åˆæœŸåŒ–ãƒªã‚¹ãƒˆ
    Point[2] pts = {
        Point(1, 2),
        Point(3, 4)
    };
    return 0;
}
```

## ãƒã‚¤ãƒ³ã‚¿ã¸ã®å¤‰æ›

é…åˆ—ã¯è‡ªå‹•çš„ã«ãƒã‚¤ãƒ³ã‚¿ã«å¤‰æ›ã•ã‚Œã¾ã™ï¼ˆArray Decayï¼‰ã€‚

```cm
int main() {
    int[5] arr = [1, 2, 3, 4, 5];

    // é…åˆ—â†’ãƒã‚¤ãƒ³ã‚¿å¤‰æ›
    int* p = arr;  // arr[0]ã®ã‚¢ãƒ‰ãƒ¬ã‚¹

    // ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹
    int first = *p;     // 1
    int second = *(p + 1);  // 2
    return 0;
}
```

### é–¢æ•°ã«é…åˆ—ã‚’æ¸¡ã™

```cm
void print_array(int* data, int size) {
    for (int i = 0; i < size; i++) {
        println("{}", data[i]);
    }
}

int main() {
    int[5] numbers = [1, 2, 3, 4, 5];
    print_array(numbers, 5);  // é…åˆ—â†’ãƒã‚¤ãƒ³ã‚¿å¤‰æ›
    return 0;
}
```

## for-inæ§‹æ–‡

ç¯„å›²ãƒ™ãƒ¼ã‚¹ã®forãƒ«ãƒ¼ãƒ—ã§é…åˆ—ã‚’åå¾©å‡¦ç†ã§ãã¾ã™ã€‚

```cm
struct Point { int x; int y; }

int main() {
    int[5] numbers = [1, 2, 3, 4, 5];

    // å‹æŒ‡å®šã‚ã‚Š
    for (int n in numbers) {
        println("{}", n);
    }

    // å‹æ¨è«–
    for (n in numbers) {
        println("{}", n);
    }

    // æ§‹é€ ä½“é…åˆ—
    Point[3] points = {Point(1, 2), Point(3, 4), Point(5, 6)};

    for (Point p in points) {
        println("({}, {})", p.x, p.y);
    }
    return 0;
}
```

## å¤šæ¬¡å…ƒé…åˆ—

```cm
// 2æ¬¡å…ƒé…åˆ—
int[3][4] matrix;

// åˆæœŸåŒ–
matrix[0][0] = 1;
matrix[0][1] = 2;

// ãƒ«ãƒ¼ãƒ—ã§ã‚¢ã‚¯ã‚»ã‚¹
for (int i = 0; i < 3; i++) {
    for (int j = 0; j < 4; j++) {
        matrix[i][j] = i * 4 + j;
    }
}
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆv0.11.0ä»¥é™ï¼‰

**é…åˆ—è‡ªå‹•ãƒ•ãƒ©ãƒƒãƒˆåŒ–:** Cm v0.11.0ã¯å¤šæ¬¡å…ƒé…åˆ—ã‚’è‡ªå‹•çš„ã«æœ€é©åŒ–ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ€§èƒ½ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

```cm
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ä¸è¦ï¼‰
int[500][500] matrix;
matrix[i][j] = value;

// å†…éƒ¨æœ€é©åŒ–ï¼ˆè‡ªå‹•ï¼‰ï¼š
// - ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±€æ‰€æ€§å‘ä¸Šã®ãŸã‚1æ¬¡å…ƒé…åˆ—ã«å¤‰æ›
// - å¤§è¦æ¨¡ãªè¡Œåˆ—ã§æœ€å¤§250å€é«˜é€ŸåŒ–
// - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å®Œå…¨ã«é€éçš„
```

ã“ã®æœ€é©åŒ–ã«ã‚ˆã‚Šï¼š
- è¡Œåˆ—æ¼”ç®—ãŒ**200-250å€é«˜é€ŸåŒ–**
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ç‡ã‚’**90%å‰Šæ¸›**
- ã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦

## å®Ÿè£…çŠ¶æ³

| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | çŠ¶æ…‹ |
|------------|------|
| ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ | âœ… å®Œå…¨å¯¾å¿œ |
| LLVM Native | âœ… å®Œå…¨å¯¾å¿œ |
| WASM | âœ… å®Œå…¨å¯¾å¿œ |

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

å®Œå…¨ãªã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š

- `examples/arrays/basic_array.cm` - åŸºæœ¬çš„ãªé…åˆ—æ“ä½œ
- `examples/arrays/struct_array.cm` - æ§‹é€ ä½“é…åˆ—
- `tests/test_programs/array/` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒã‚¤ãƒ³ã‚¿](pointers.html) - ãƒã‚¤ãƒ³ã‚¿æ“ä½œ
- [for-inæ§‹æ–‡](../../guides/control-flow.html) - ç¯„å›²ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ—
- ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§ - é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰è©³ç´°

---

**æ›´æ–°æ—¥:** 2025-12-16