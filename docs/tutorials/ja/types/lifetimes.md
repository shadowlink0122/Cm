---
title: ライフタイム
parent: Tutorials
---

[English](../../en/types/lifetimes.html)

# 型システム編 - ライフタイム

**難易度:** 🔴 上級  
**所要時間:** 30分

## ライフタイムとは

参照が有効である期間を指します。Cmコンパイラ（借用チェッカー）は、ダングリングポインタ（無効なメモリへの参照）を防ぐためにライフタイムを検査します。

```cm
int main() {
    int* r;
    {
        int x = 5;
        r = &x; // エラー: x はこのブロックで寿命が尽きる
    }
    // println("{}", *r); // 危険！
    return 0;
}
```

## ライフタイム注釈

通常、コンパイラはライフタイムを推論しますが、複雑なケースでは明示的な注釈が必要です。

```cm
// 'a はライフタイムパラメータ
struct Ref<'a> {
    int* x; // ライフタイム 'a を持つ参照
}
```

(詳細な構文は現在策定中です)

---

**前の章:** [所有権と借用](ownership.html)
