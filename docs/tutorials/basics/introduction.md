---
layout: default
title: はじめに
parent: Tutorials
nav_order: 1
---

# はじめに - Cm言語とは

**難易度:** 🟢 初級  
**所要時間:** 10分

## 📚 この章で学ぶこと

- Cm言語の特徴
- 設計思想
- 他の言語との比較
- 環境構築の準備

---

## Cm言語とは

Cm言語は、**C++風の構文**と**Rust風の型安全性**を組み合わせた、モダンなシステムプログラミング言語です。

### 主な特徴

1. **C++風の構文**
   - セミコロンで文を終了
   - ブレース `{}` でブロックを定義
   - 明示的な型宣言

2. **Rust風のトレイトシステム**
   - `interface`/`impl` による型の振る舞い定義
   - ジェネリクスと型制約
   - `with`キーワードによる自動実装

3. **LLVM/WASMバックエンド**
   - ネイティブコード生成（LLVM）
   - WebAssembly出力（WASM）
   - 高度な最適化

4. **強力な型推論**
   - ジェネリック関数の型推論
   - 配列メソッドでの型推論
   - `for-in`構文での型推論

5. **メモリ安全性**
   - ポインタの明示的な使用
   - 配列境界チェック（将来実装予定）
   - 所有権システム（将来実装予定）

---

## 設計思想

### 1. 明示的であること

暗黙的な動作を避け、コードの意図を明確にします。

```cm
// ✓ 明示的なオーバーロード宣言
overload int add(int a, int b) { return a + b; }
overload double add(double a, double b) { return a + b; }

// ✓ 明示的な型制約
<T: Ord> T max(T a, T b) { return a > b ? a : b; }
```

### 2. 安全であること

コンパイル時にできるだけ多くのエラーを検出します。

```cm
// コンパイルエラー：型制約を満たさない
<T: Ord> T min(T a, T b) { return a < b ? a : b; }

struct Point { int x; int y; }
// Point p1, p2;
// Point m = min(p1, p2);  // エラー：PointはOrdを実装していない
```

### 3. 実用的であること

C/C++との相互運用性を重視します。

```cm
// C互換のメモリレイアウト
struct Data {
    int id;
    double value;
}

// C++風のポインタ
int* p = &x;
*p = 100;
```

### 4. モダンであること

最新の言語機能を取り入れます。

```cm
// パターンマッチング
match (status) {
    Status::Ok => println("Success"),
    Status::Error => println("Failed"),
    _ => println("Unknown"),
}

// 自動トレイト実装
struct Point with Eq + Ord + Clone {
    int x;
    int y;
}
```

---

## 他の言語との比較

### Cm vs C++

| 特徴 | C++ | Cm |
|------|-----|-----|
| 構文 | C++風 | C++風 |
| トレイト | コンセプト（C++20） | interface/impl |
| ジェネリクス | テンプレート | ジェネリクス |
| メモリ管理 | 手動 | 手動＋将来所有権 |
| match式 | なし | あり |
| with自動実装 | なし | あり |

### Cm vs Rust

| 特徴 | Rust | Cm |
|------|------|-----|
| 構文 | Rust風 | C++風 |
| トレイト | trait/impl | interface/impl |
| 所有権 | あり | 将来実装予定 |
| セミコロン | 省略可 | 必須 |
| derive | `#[derive(...)]` | `with ...` |

### Cm vs Go

| 特徴 | Go | Cm |
|------|-----|-----|
| 型システム | シンプル | 高度（ジェネリクス） |
| インターフェース | 暗黙実装 | 明示的実装 |
| ジェネリクス | Go 1.18+ | v0.6.0+ |
| パターンマッチ | なし | あり |

---

## Cmを選ぶ理由

### C++プログラマにとって

- ✅ 慣れた構文
- ✅ より安全な型システム
- ✅ モダンな機能（match、with）
- ✅ C++との互換性

### Rustプログラマにとって

- ✅ トレイトシステム（interface/impl）
- ✅ パターンマッチング
- ✅ 強力な型推論
- ✅ より簡潔な構文

### システムプログラミング初心者にとって

- ✅ 学習しやすいC++風構文
- ✅ コンパイル時エラー検出
- ✅ 明示的な設計
- ✅ 充実したドキュメント

---

## バージョン履歴

### v0.10.0（現在）

- ✅ 配列とポインタ
- ✅ with自動実装（LLVM）
- ✅ 型制約（AND/OR境界）
- ✅ ufloat/udouble型
- ✅ デッドコード削除

### v0.8.0

- ✅ match式
- ✅ パターンガード
- ✅ 網羅性チェック

### v0.7.0

- ✅ WASMバックエンド
- ✅ ジェネリックメソッド
- ✅ 複数型パラメータ

### v0.6.0

- ✅ ジェネリクス
- ✅ モノモーフィゼーション

---

## 次のステップ

✅ Cm言語の特徴を理解した  
⏭️ 次は [環境構築](setup.md) でコンパイラをビルドしましょう

## 関連リンク

- [正式言語仕様](../../design/CANONICAL_SPEC.md)
- [ロードマップ](../../../ROADMAP.md)
- [リリースノート](../../releases/v0.10.0.md)

---

**次の章:** [環境構築](setup.md)
