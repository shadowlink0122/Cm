# Cmè¨€èª ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ  æœ€çµ‚ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 5.0  
**æœ€çµ‚æ›´æ–°**: 2025-12-20  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ç¢ºå®š

---

## ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [åŸºæœ¬åŸå‰‡](#åŸºæœ¬åŸå‰‡)
3. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
4. [ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®£è¨€](#ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®£è¨€)
5. [ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ§‹æ–‡](#ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ§‹æ–‡)
6. [ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ§‹æ–‡](#ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ§‹æ–‡)
7. [åå‰ç©ºé–“ã‚·ã‚¹ãƒ†ãƒ ](#åå‰ç©ºé–“ã‚·ã‚¹ãƒ†ãƒ )
8. [éšå±¤çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](#éšå±¤çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
9. [ä½¿ç”¨ä¾‹](#ä½¿ç”¨ä¾‹)
10. [å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](#å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—)
11. [ã‚¨ãƒ©ãƒ¼å‡¦ç†](#ã‚¨ãƒ©ãƒ¼å‡¦ç†)
12. [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)

---

## æ¦‚è¦

Cmè¨€èªã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ä»¥ä¸‹ã®ç›®æ¨™ã‚’é”æˆã—ã¾ã™ï¼š

- **æ˜ç¢ºãªéšå±¤æ§‹é€ **: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«éšå±¤ã®å¯¾å¿œ
- **æŸ”è»Ÿãªæ§‹æˆ**: æ˜ç¤ºçš„åˆ¶å¾¡ã¨è‡ªå‹•æ¤œå‡ºã®é¸æŠå¯èƒ½
- **åå‰ç©ºé–“ã®ä¿è­·**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®Œå…¨ä¿®é£¾åã‚’ä½¿ç”¨
- **æ®µéšçš„å®Ÿè£…**: Phase 1 ã‹ã‚‰ Phase 3 ã¸æ®µéšçš„ã«æ©Ÿèƒ½è¿½åŠ 

### è¨­è¨ˆæ–¹é‡

1. **`module M;` å®£è¨€ãŒåå‰ç©ºé–“ã‚’å®šç¾©**
2. **å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§éšå±¤ã‚’æ§‹ç¯‰**
3. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ•´ç†**
4. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®Œå…¨ä¿®é£¾åï¼ˆGoè¨€èªé¢¨ï¼‰**

---

## åŸºæœ¬åŸå‰‡

### 1. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« = åå‰ç©ºé–“

```cm
// vector.cm
module vector;  // 'vector' åå‰ç©ºé–“ã‚’å®šç¾©

export struct Vector3 { float x, y, z; }
export float dot(Vector3 a, Vector3 b) { /* ... */ }
```

### 2. å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§éšå±¤æ§‹ç¯‰

```cm
// std.cm
module std;

import ./io;
export { io };  // std::io ã¨ã—ã¦å…¬é–‹
```

### 3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª = ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

```
std/
  â”œâ”€â”€ std.cm              # module std;
  â””â”€â”€ io/
      â”œâ”€â”€ io.cm           # module io;
      â””â”€â”€ file/
          â””â”€â”€ file.cm     # module file;
```

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### æ¨å¥¨æ§‹é€ : åŒåãƒ•ã‚¡ã‚¤ãƒ«

```
project/
  â”œâ”€â”€ main.cm
  â”œâ”€â”€ mylib/
  â”‚   â”œâ”€â”€ mylib.cm        # module mylib; (ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ)
  â”‚   â”œâ”€â”€ core.cm         # module core;
  â”‚   â””â”€â”€ utils.cm        # module utils;
  â””â”€â”€ std/
      â”œâ”€â”€ std.cm          # module std;
      â”œâ”€â”€ io/
      â”‚   â”œâ”€â”€ io.cm       # module io;
      â”‚   â””â”€â”€ file/
      â”‚       â””â”€â”€ file.cm # module file;
      â””â”€â”€ collections/
          â””â”€â”€ collections.cm
```

**ãƒ«ãƒ¼ãƒ«**:
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå
- ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«åŒåã® `.cm` ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`io/io.cm`ï¼‰
- ã¾ãŸã¯ `mod.cm`ï¼ˆRusté¢¨ã€è¨±å®¹ï¼‰

### ãƒ‘ã‚¹ã®è§£æ±ºé †åº

```
import ./io;

1. ./io.cm              (åŒéšå±¤ã®ãƒ•ã‚¡ã‚¤ãƒ«)
2. ./io/io.cm           (ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª + åŒå) â† æ¨å¥¨
3. ./io/mod.cm          (ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª + mod.cm)
```

---

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®£è¨€

### åŸºæœ¬å½¢

```cm
// io.cm
module io;

export void println(string s) { /* ... */ }
export void print(string s) { /* ... */ }
```

**ãƒã‚¤ãƒ³ãƒˆ**:
- ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã§ `module M;` ã‚’å®£è¨€
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã¯åå‰ç©ºé–“ã«ãªã‚‹
- éšå±¤çš„ãªå®£è¨€ï¼ˆ`module std::io;`ï¼‰ã¯**ä½¿ç”¨ã—ãªã„**

---

## ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ§‹æ–‡

### 1. åŸºæœ¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```cm
import vector;                  // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å…¨ä½“
import std::io;                 // éšå±¤çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
import std::io::file;           // æ·±ã„éšå±¤
```

**å‹•ä½œ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®Œå…¨ä¿®é£¾åãŒå¿…è¦

```cm
import vector;

int main() {
    vector::Vector3 v = {1.0, 2.0, 3.0};  // OK
    Vector3 v2;                            // ã‚¨ãƒ©ãƒ¼: Vector3 ã¯æœªå®šç¾©
    return 0;
}
```

### 2. ã‚¨ã‚¤ãƒªã‚¢ã‚¹

```cm
import vector as v;
import std::io as io;

int main() {
    v::Vector3 v = {1.0, 2.0, 3.0};
    io::println("Hello!");
    return 0;
}
```

### 3. é¸æŠçš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```cm
import vector::{Vector3, dot};
import std::io::{println, print};

int main() {
    Vector3 v = {1.0, 2.0, 3.0};  // ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãªã—
    println("Hello!");             // ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãªã—
    return 0;
}
```

### 4. ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```cm
import std::*;  // std ã®å…¨ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

int main() {
    io::println("Hello!");
    collections::Vec<int> v;
    return 0;
}
```

### 5. ç›¸å¯¾ãƒ‘ã‚¹ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```cm
import ./sibling;       // åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
import ../parent;       // è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
import ./sub/module;    // ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
```

### 6. æ·±ã„éšå±¤ã®ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆPhase 1ï¼‰

```cm
import ./io/file;       // io/file/file.cm ã‚’ç›´æ¥
import ./io/file/ops;   // io/file/ops/ops.cm ã‚’ç›´æ¥
```

---

## ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ§‹æ–‡

### 1. å®£è¨€æ™‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰

```cm
export struct Vector3 { float x, y, z; }
export float dot(Vector3 a, Vector3 b) { /* ... */ }
export const float PI = 3.14159;
```

### 2. åˆ†é›¢ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```cm
struct Vector3 { float x, y, z; }
float dot(Vector3 a, Vector3 b) { /* ... */ }
const float PI = 3.14159;

export Vector3;
export dot;
export PI;
```

### 3. ä¸€æ‹¬ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```cm
export { Vector3, dot, PI };
```

### 4. ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```cm
// std.cm
import ./io;
import ./collections;

export { io };
export { collections };
// ã¾ãŸã¯
export { io, collections };
```

### 5. éšå±¤å†æ§‹ç¯‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆPhase 2ï¼‰

```cm
// std.cm
import ./io/file;
import ./io/stream;

// file ã¨ stream ã‚’ io ã®ä¸‹ã«é…ç½®
export { io::{file, stream} };
```

### 6. ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆPhase 3ï¼‰

```cm
// std.cm
import ./io/**;        // io ä»¥ä¸‹ã™ã¹ã¦
export { io::* };      // ã™ã¹ã¦ã‚’éšå±¤æ§‹é€ ã§å…¬é–‹
```

---

## åå‰ç©ºé–“ã‚·ã‚¹ãƒ†ãƒ 

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: å®Œå…¨ä¿®é£¾å

```cm
import std::io;
import std::collections;

int main() {
    std::io::println("Hello!");           // æ˜ç¢º
    std::collections::Vec<int> v;         // åå‰è¡çªãªã—
    return 0;
}
```

### åå‰è¡çªã®å›é¿

```cm
// è¡çªã—ãªã„ï¼ˆå®Œå…¨ä¿®é£¾åï¼‰
import math_vector;
import physics_vector;

int main() {
    math_vector::Vector3 mv;
    physics_vector::Vector3 pv;  // OK
    return 0;
}
```

```cm
// è¡çªã™ã‚‹ï¼ˆé¸æŠçš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼‰
import math_vector::{Vector3};
import physics_vector::{Vector3};  // ã‚¨ãƒ©ãƒ¼: Vector3 ãŒé‡è¤‡

int main() {
    Vector3 v;  // ã©ã¡ã‚‰ã® Vector3?
    return 0;
}
```

**è§£æ±ºç­–**:

```cm
// æ–¹æ³•1: ã‚¨ã‚¤ãƒªã‚¢ã‚¹
import math_vector::{Vector3 as MathVec3};
import physics_vector::{Vector3 as PhysVec3};

// æ–¹æ³•2: å®Œå…¨ä¿®é£¾å
import math_vector;
import physics_vector;
math_vector::Vector3 mv;
```

---

## éšå±¤çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ˜ç¤ºçš„éšå±¤ï¼ˆæ¨å¥¨ï¼‰

å„éšå±¤ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’æ˜ç¤ºã€‚

```
std/
  â”œâ”€â”€ std.cm              # import ./io; export { io };
  â””â”€â”€ io/
      â”œâ”€â”€ io.cm           # import ./file; export { file };
      â””â”€â”€ file/
          â””â”€â”€ file.cm     # module file;
```

```cm
// std/std.cm
module std;
import ./io;
export { io };

// std/io/io.cm
module io;
import ./file;
export void println(string s) { /* ... */ }
export { file };

// std/io/file/file.cm
module file;
export string read(string path) { /* ... */ }
```

**ä½¿ç”¨**:
```cm
import std::io;
import std::io::file;

int main() {
    std::io::println("Hello!");
    string content = std::io::file::read("test.txt");
    return 0;
}
```

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆ + éšå±¤å†æ§‹ç¯‰ï¼ˆPhase 2ï¼‰

ä¸­é–“éšå±¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’çœç•¥ã€‚

```
std/
  â”œâ”€â”€ std.cm
  â””â”€â”€ io/
      â”œâ”€â”€ file/
      â”‚   â””â”€â”€ file.cm
      â””â”€â”€ stream/
          â””â”€â”€ stream.cm
```

```cm
// std/std.cm
module std;

import ./io/file;
import ./io/stream;

// éšå±¤ã‚’å†æ§‹ç¯‰
export { io::{file, stream} };
```

**ä½¿ç”¨**:
```cm
import std::io::file;
import std::io::stream;

int main() {
    std::io::file::read("test.txt");
    std::io::stream::open("out.txt");
    return 0;
}
```

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰è‡ªå‹•æ¤œå‡ºï¼ˆPhase 3ï¼‰

ã™ã¹ã¦ã‚’è‡ªå‹•çš„ã«æ¤œå‡ºã€‚

```cm
// std/std.cm
module std;

import ./io/**;        // io ä»¥ä¸‹ã™ã¹ã¦å†å¸°çš„ã«
export { io::* };      // éšå±¤æ§‹é€ ã‚’ç¶­æŒ
```

**ä½¿ç”¨**:
```cm
import std::io::file;
import std::io::stream;
import std::io::console;  // è‡ªå‹•çš„ã«åˆ©ç”¨å¯èƒ½

int main() {
    std::io::file::read("test.txt");
    std::io::stream::open("out.txt");
    std::io::console::clear();
    return 0;
}
```

---

## ä½¿ç”¨ä¾‹

### ä¾‹1: æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½¿ç”¨

```cm
// main.cm
import std::io;
import std::io::file;

int main() {
    std::io::println("=== ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ ===");
    
    if (std::io::file::exists("input.txt")) {
        string content = std::io::file::read("input.txt");
        std::io::println("å†…å®¹: {content}");
        
        std::io::file::write("output.txt", content);
        std::io::println("output.txt ã«æ›¸ãè¾¼ã¿ã¾ã—ãŸ");
    } else {
        std::io::eprintln("ã‚¨ãƒ©ãƒ¼: input.txt ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
    }
    
    return 0;
}
```

### ä¾‹2: ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§çŸ­ç¸®

```cm
// main.cm
import std::io as io;
import std::io::file as file;

int main() {
    io::println("ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†é–‹å§‹");
    
    if (file::exists("data.txt")) {
        string data = file::read("data.txt");
        io::println("ãƒ‡ãƒ¼ã‚¿: {data}");
    }
    
    return 0;
}
```

### ä¾‹3: é¸æŠçš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```cm
// main.cm
import std::io::{println, eprintln};
import std::io::file::{read, write, exists};

int main() {
    println("å‡¦ç†é–‹å§‹");
    
    if (exists("config.txt")) {
        string config = read("config.txt");
        println("è¨­å®š: {config}");
    } else {
        eprintln("è­¦å‘Š: config.txt ãŒã‚ã‚Šã¾ã›ã‚“");
        write("config.txt", "default=true");
    }
    
    return 0;
}
```

### ä¾‹4: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹é€ 

```
myproject/
  â”œâ”€â”€ main.cm
  â””â”€â”€ mylib/
      â”œâ”€â”€ mylib.cm
      â”œâ”€â”€ parser/
      â”‚   â””â”€â”€ parser.cm
      â””â”€â”€ lexer/
          â””â”€â”€ lexer.cm
```

```cm
// mylib/mylib.cm
module mylib;

import ./parser;
import ./lexer;

export { parser, lexer };
```

```cm
// main.cm
import mylib::parser;
import mylib::lexer;

int main() {
    mylib::parser::parse("input.txt");
    mylib::lexer::tokenize("code");
    return 0;
}
```

---

## å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºæœ¬çš„ãªå†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆå„ªå…ˆåº¦: ğŸ”´ é«˜ï¼‰

**ç›®æ¨™**: éšå±¤çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç¤

**å®Ÿè£…å†…å®¹**:
1. `export { M };` æ§‹æ–‡ã®ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…
2. æ·±ã„éšå±¤ã®ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ`import ./io/file;`ï¼‰
3. ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µã§ã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè§£æ±º
4. éšå±¤çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ`import std::io;`ï¼‰ã®å‡¦ç†
5. `namespace` ç”Ÿæˆ

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```cm
// io.cm
module io;
export void println(string s) { }

// std.cm
module std;
import ./io;
export { io };

// main.cm
import std::io;
int main() {
    std::io::println("Hello");
    return 0;
}
```

---

### Phase 2: éšå±¤å†æ§‹ç¯‰ï¼ˆå„ªå…ˆåº¦: ğŸŸ¡ ä¸­ï¼‰

**ç›®æ¨™**: ä¸­é–“éšå±¤ã‚’çœç•¥å¯èƒ½ã«

**å®Ÿè£…å†…å®¹**:
1. `export { parent::{child} };` æ§‹æ–‡
2. éšå±¤çš„ãªåå‰ç©ºé–“ã®å†æ§‹ç¯‰
3. æ·±ã„ãƒ‘ã‚¹ã®è§£æ±ºå¼·åŒ–

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```cm
// std.cm
import ./io/file;
import ./io/stream;
export { io::{file, stream} };

// main.cm
import std::io::file;
std::io::file::read("test.txt");
```

---

### Phase 3: ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰è‡ªå‹•æ¤œå‡ºï¼ˆå„ªå…ˆåº¦: ğŸŸ¢ ä½ï¼‰

**ç›®æ¨™**: è‡ªå‹•ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¤œå‡º

**å®Ÿè£…å†…å®¹**:
1. `import ./path/**;` æ§‹æ–‡
2. `export { module::* };` æ§‹æ–‡
3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†å¸°çš„æ¢ç´¢
4. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è‡ªå‹•æ¤œå‡º

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```cm
// std.cm
import ./io/**;
export { io::* };

// main.cm
import std::io::file;
import std::io::stream;
import std::io::console;  // è‡ªå‹•æ¤œå‡º
```

---

## ã‚¨ãƒ©ãƒ¼å‡¦ç†

### ã‚¨ãƒ©ãƒ¼1: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```cm
import ./io;
```

```
ã‚¨ãƒ©ãƒ¼: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 'io' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
  main.cm:1:8
    import ./io;
           ^~~~

ä»¥ä¸‹ã‚’æ¢ã—ã¾ã—ãŸãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ:
  1. ./io.cm
  2. ./io/io.cm
  3. ./io/mod.cm

ä¿®æ­£æ–¹æ³•:
  - io/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
  - io/io.cm ã¾ãŸã¯ io/mod.cm ã‚’ä½œæˆ
  - module io; ã‚’å®£è¨€
```

---

### ã‚¨ãƒ©ãƒ¼2: å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„

```cm
// std.cm
import ./io;
// export { io }; ã‚’å¿˜ã‚ŒãŸ
```

```cm
// main.cm
import std::io;  // ã‚¨ãƒ©ãƒ¼
```

```
ã‚¨ãƒ©ãƒ¼: 'io' ã¯ 'std' ã‹ã‚‰å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“
  main.cm:1:8
    import std::io;
           ^~~~~~~

'io' ã¯ std.cm ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ãŒã€å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

ä¿®æ­£æ–¹æ³•: std.cm ã«ä»¥ä¸‹ã‚’è¿½åŠ :
  export { io };
```

---

### ã‚¨ãƒ©ãƒ¼3: åå‰è¡çª

```cm
import math_vec::{Vector3};
import phys_vec::{Vector3};  // ã‚¨ãƒ©ãƒ¼
```

```
ã‚¨ãƒ©ãƒ¼: 'Vector3' ãŒè¤‡æ•°ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™
  main.cm:2:20
    import phys_vec::{Vector3};
                      ^~~~~~~

'Vector3' ã¯æ—¢ã« 'math_vec' ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ (main.cm:1)

è§£æ±ºæ–¹æ³•:
  1. ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ç”¨:
     import math_vec::{Vector3 as MathVec3};
     import phys_vec::{Vector3 as PhysVec3};

  2. å®Œå…¨ä¿®é£¾åã‚’ä½¿ç”¨:
     import math_vec;
     import phys_vec;
     math_vec::Vector3 mv;
     phys_vec::Vector3 pv;
```

---

### ã‚¨ãƒ©ãƒ¼4: å¾ªç’°ä¾å­˜

```cm
// a.cm
import ./b;
export { b };

// b.cm
import ./a;
export { a };
```

```
ã‚¨ãƒ©ãƒ¼: å¾ªç’°ä¾å­˜ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ
  a.cm:1:8
    import ./b;
           ^~~~

ä¾å­˜é–¢ä¿‚:
  a.cm â†’ b.cm â†’ a.cm

ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®å¾ªç’°ä¾å­˜ã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
âœ… æ¨å¥¨: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å = ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå = ãƒ•ã‚¡ã‚¤ãƒ«å
std/
  â””â”€â”€ io/
      â””â”€â”€ io.cm         # module io;

âœ… è¨±å®¹: mod.cm
std/
  â””â”€â”€ io/
      â””â”€â”€ mod.cm        # module io;

âŒ éæ¨å¥¨: æ··åœ¨
std/
  â””â”€â”€ io/
      â”œâ”€â”€ io.cm
      â””â”€â”€ mod.cm        # ã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿
```

---

### 2. ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«

```cm
âœ… æ¨å¥¨: å®Œå…¨ä¿®é£¾åï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
import vector;
import std::io;

int main() {
    vector::Vector3 v;
    std::io::println("Hello");
    return 0;
}
```

```cm
âœ… è¨±å®¹: ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆé•·ã„åå‰ã®å ´åˆï¼‰
import very_long_module_name as vlmn;
vlmn::Type t;
```

```cm
âš ï¸ æ…é‡ã«: é¸æŠçš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆå±€æ‰€çš„ã«ï¼‰
import std::io::{println, print};
// çŸ­ã„ã‚¹ã‚³ãƒ¼ãƒ—ã§ã®ã¿ä½¿ç”¨
```

```cm
âŒ éæ¨å¥¨: ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ï¼ˆãƒ†ã‚¹ãƒˆã®ã¿ï¼‰
import std::*;
// åå‰ã®ç”±æ¥ãŒä¸æ˜ç¢º
```

---

### 3. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```cm
âœ… æ¨å¥¨: å®£è¨€æ™‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export struct Vector3 { /* ... */ }
export float dot(Vector3 a, Vector3 b) { /* ... */ }
```

```cm
âœ… è¨±å®¹: ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãåˆ†é›¢ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
struct Vector3 { /* ... */ }
float dot(Vector3 a, Vector3 b) { /* ... */ }

// ========================================
// å…¬é–‹API
// ========================================
export { Vector3, dot };
```

---

### 4. ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ•´ç†

```
âœ… æ¨å¥¨: é–¢é€£æ©Ÿèƒ½ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§æ•´ç†
std/
  â””â”€â”€ io/
      â”œâ”€â”€ io.cm         # åŸºæœ¬æ©Ÿèƒ½
      â”œâ”€â”€ file/         # ãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£
      â”‚   â””â”€â”€ file.cm
      â””â”€â”€ stream/       # ã‚¹ãƒˆãƒªãƒ¼ãƒ é–¢é€£
          â””â”€â”€ stream.cm
```

```
âŒ éæ¨å¥¨: ãƒ•ãƒ©ãƒƒãƒˆã«å…¨ã¦é…ç½®
std/
  â”œâ”€â”€ io.cm
  â”œâ”€â”€ file.cm
  â”œâ”€â”€ stream.cm
  â”œâ”€â”€ reader.cm
  â””â”€â”€ writer.cm
```

---

### 5. éšå±¤ã®æ·±ã•

```
âœ… æ¨å¥¨: 2-3éšå±¤
std::io::file

âœ… è¨±å®¹: 4éšå±¤
std::io::file::path

âŒ éæ¨å¥¨: 5éšå±¤ä»¥ä¸Š
std::io::file::path::internal::impl
```

---

### 6. å‘½åè¦å‰‡

- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å**: `snake_case`ï¼ˆä¾‹: `std`, `io`, `collections`ï¼‰
- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã¨åŒã˜
- **ãƒ•ã‚¡ã‚¤ãƒ«å**: `module_name.cm` ã¾ãŸã¯ `mod.cm`
- **ã‚¨ã‚¤ãƒªã‚¢ã‚¹**: çŸ­ãæ˜ç¢ºã«ï¼ˆä¾‹: `io`, `col`, `vec`ï¼‰

---

## ã¾ã¨ã‚

### æ¡ç”¨ã™ã‚‹è¨­è¨ˆ

**å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ + ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªéšå±¤ + æŸ”è»Ÿãªã‚¤ãƒ³ãƒãƒ¼ãƒˆ**

### ä¸»è¦ãªç‰¹å¾´

1. **`module M;` = åå‰ç©ºé–“**: ã‚·ãƒ³ãƒ—ãƒ«ã§æ˜ç¢º
2. **å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§éšå±¤æ§‹ç¯‰**: æŸ”è»Ÿãªåˆ¶å¾¡
3. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ•´ç†**: è¦–è¦šçš„ã«åˆ†ã‹ã‚Šã‚„ã™ã„
4. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®Œå…¨ä¿®é£¾å**: Goè¨€èªé¢¨ã€å®‰å…¨
5. **æ®µéšçš„å®Ÿè£…**: Phase 1 â†’ Phase 2 â†’ Phase 3

### æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **Phase 1 ã®å®Ÿè£…**
   - `export { M };` æ§‹æ–‡ã®ãƒ‘ãƒ¼ã‚µãƒ¼
   - æ·±ã„éšå±¤ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ`import ./io/file;`ï¼‰
   - ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µã®æ‹¡å¼µ
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ä½œæˆ

2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰
   - ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
   - API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

3. **æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ§‹ç¯‰**
   - `std::io`
   - `std::collections`
   - `std::math`

---

**ã“ã®ä»•æ§˜ã«åŸºã¥ã„ã¦å®Ÿè£…ã‚’é–‹å§‹ã—ã¾ã™ï¼**
