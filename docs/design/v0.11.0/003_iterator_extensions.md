# ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿æ‹¡å¼µè¨­è¨ˆ

## æ¦‚è¦
`for`ãƒ«ãƒ¼ãƒ—ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿æ©Ÿèƒ½ã‚’æ‹¡å¼µã—ã€ã‚ˆã‚Šè¡¨ç¾åŠ›ã®é«˜ã„ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿç¾ã€‚

## ç›®æ¨™æ©Ÿèƒ½

### 1. ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```cm
// æ§‹æ–‡æ¡ˆ
for ((index, item) in arr) {
    println("{index}: {item}");
}

// ä»£æ›¿æ§‹æ–‡
for (index, item in arr.enumerate()) {
    println("{index}: {item}");
}
```

### 2. ç¯„å›²ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿
```cm
// 0ã‹ã‚‰9ã¾ã§
for (i in 0..10) {
    println("{i}");
}

// 0ã‹ã‚‰9ã¾ã§ï¼ˆåŒ…å«ï¼‰
for (i in 0..=9) {
    println("{i}");
}

// ã‚¹ãƒ†ãƒƒãƒ—æŒ‡å®š
for (i in 0..10 step 2) {
    println("{i}");  // 0, 2, 4, 6, 8
}
```

### 3. é€†é †ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```cm
for (item in arr.reversed()) {
    println("{item}");
}
```

---

## å®Ÿè£…è¨ˆç”»

### Phase 1: ãƒ‘ãƒ¼ã‚µãƒ¼æ‹¡å¼µ
1. `..`æ¼”ç®—å­ã®ãƒˆãƒ¼ã‚¯ãƒ³è¿½åŠ 
2. ã‚¿ãƒ—ãƒ«åˆ†è§£ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚µãƒãƒ¼ãƒˆ
3. `enumerate()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚·ã‚°ãƒãƒãƒ£

### Phase 2: å‹ãƒã‚§ãƒƒã‚«ãƒ¼
1. ç¯„å›²å‹ `Range<T>` ã®å°å…¥
2. `Iterable` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
3. ã‚¿ãƒ—ãƒ«å‹æ¨è«–

### Phase 3: MIR/ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
1. ç¯„å›²ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®ãƒ«ãƒ¼ãƒ—å±•é–‹
2. enumerateç”¨ã®ä¸€æ™‚å¤‰æ•°ç”Ÿæˆ

---

## è¨­è¨ˆè©³ç´°

### Rangeå‹
```cm
struct Range<T> {
    start: T;
    end: T;
    inclusive: bool;
}

impl Iterable for Range<int> {
    type Item = int;
    fn next(self: *Self) -> Option<int>;
}
```

### enumerateå±•é–‹
```cm
// å…¥åŠ›
for ((i, x) in arr.enumerate()) { ... }

// å±•é–‹å¾Œ
{
    int __idx = 0;
    for (x in arr) {
        int i = __idx;
        ...
        __idx++;
    }
}
```

---

## å„ªå…ˆé †ä½
1. ğŸ”´ ç¯„å›²ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ `0..10` - ã‚ˆãä½¿ã‚ã‚Œã‚‹
2. ğŸŸ  enumerate - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å¿…è¦æ™‚å¤šã„
3. ğŸŸ¡ reversed - åˆ©ä¾¿æ€§å‘ä¸Š
